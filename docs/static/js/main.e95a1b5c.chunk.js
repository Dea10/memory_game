(this.webpackJsonpmemory_game=this.webpackJsonpmemory_game||[]).push([[0],{11:function(e,t,n){e.exports={gameScreen:"GameScreen_gameScreen__2Buni",link:"GameScreen_link__3bEPJ",gameBoard:"GameScreen_gameBoard__2pyYS",scoreboard:"GameScreen_scoreboard__1WFDh"}},14:function(e,t,n){e.exports={rankingScreen:"RankingScreen_rankingScreen__Gw6iJ",buttons:"RankingScreen_buttons__VBSWu",link:"RankingScreen_link__299Ei",ranking:"RankingScreen_ranking__3as0_"}},17:function(e,t,n){e.exports={card:"Card_card__13ZKT",front:"Card_front__mX3I7",back:"Card_back__37fFi"}},18:function(e,t,n){e.exports={homeScreen:"HomeScreen_homeScreen__3dm0M",link:"HomeScreen_link__2u-Oa"}},26:function(e,t,n){e.exports={button:"Button_button__3RvLG"}},28:function(e,t,n){e.exports={rankingForm:"RankingForm_rankingForm__3ihdO"}},29:function(e,t,n){e.exports={scoreboard:"Scoreboard_scoreboard__19oA5"}},31:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),i=n(25),s=n.n(i),o=n(8),l=n(2),j=n(15),b=n(9),d=n(4),u=n(26),m=n.n(u),O=n(1),h=function(e){var t=e.label,n=e.color,c=e.onClick,a={backgroundColor:n};return Object(O.jsx)("div",{className:m.a.button,style:a,onClick:c,children:Object(O.jsx)("span",{children:t})})},f=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:151,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=n?0:1,a=[];a.length!==e;){var r=Math.floor(Math.random()*(t+c));a.includes(r)||a.push(r)}return a},x=function(){for(var e=f(),t=[].concat(Object(b.a)(e),Object(b.a)(e)),n=f(t.length,t.length,!0),c=Object(b.a)(t),a=0;a<t.length;a++)c[a]=t[n[a]];return c.map((function(e){return{id:e,isShown:!1,isPaired:!1}}))},g=n(21),k=n.n(g),S=n(27),p=n(17),v=n.n(p),_={fire:"#FDDFDF",grass:"#DEFDE0",electric:"#FCF7DE",water:"#DEF3FD",ground:"#f4e7da",rock:"#d5d5d4",fairy:"#fceaff",poison:"#98d7a5",bug:"#f8d5a3",dragon:"#97b3e6",psychic:"#eaeda1",flying:"#F5F5F5",fighting:"#E6E0D4",normal:"#F5F5F5",ghost:"#C9C7EE"},F=function(e){var t=e.id,n=e.isShown,c=e.cardIndex,r=e.isPaired,i=e.showCard,s=Object(a.useState)({name:"",imgUrl:""}),o=Object(d.a)(s,2),l=o[0],j=o[1],b=Object(a.useState)({backgroundColor:"blanchedalmond"}),u=Object(d.a)(b,2),m=u[0],h=u[1],f=Object(a.useContext)(A),x=function(){var e=Object(S.a)(k.a.mark((function e(){var n,c,a,r,i,s,o,l,b,d,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://pokeapi.co/api/v2/pokemon/".concat(t),e.next=3,fetch(c);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,i=r.name,s=r.sprites,o=r.types,l=s.front_default,b={name:i,imgUrl:l},d=null===(n=o[0])||void 0===n?void 0:n.type.name,u={backgroundColor:_[d]},j(b),h(u);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){x()}),[]),Object(O.jsx)("div",{onClick:function(){r||!f.isActive||n||i(c)},className:v.a.card,children:n?Object(O.jsxs)("div",{className:v.a.front,style:m,children:[Object(O.jsx)("img",{src:l.imgUrl,alt:l.name}),Object(O.jsx)("small",{children:l.name})]}):Object(O.jsx)("div",{className:v.a.back,children:Object(O.jsx)("img",{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png",alt:"pokeball"})})})},C=n(11),N=n.n(C),w=n(28),y=n.n(w),E=function(e){var t=e.time,n=e.setIsRanked,c=Object(a.useState)(""),r=Object(d.a)(c,2),i=r[0],s=r[1],o=function(e){e.preventDefault(),n(!0);var c={nickname:i,time:t},a=JSON.parse(localStorage.getItem("ranking")||"[]");a.push(c),localStorage.setItem("ranking",JSON.stringify(a))};return Object(O.jsxs)("form",{onSubmit:o,className:y.a.rankingForm,children:[Object(O.jsx)("input",{type:"text",className:"form-control",onChange:function(e){s(e.target.value)}}),Object(O.jsx)(h,{label:"Send record!",color:"#FF5054",onClick:o})]})},I=n(29),D=n.n(I),P=function(e){var t=e.setTime,n=Object(a.useState)(0),r=Object(d.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(0),l=Object(d.a)(o,2),j=l[0],b=l[1],u=Object(a.useContext)(A);return Object(a.useEffect)((function(){if(u.isStarted)return c=setInterval((function(){s(i+1),59===i&&(s(0),b(j+1))}),1e3),function(){return clearInterval(c)}}),[i,u.isStarted]),Object(a.useEffect)((function(){u.isFinished&&(clearInterval(c),t(60*j+i))}),[u.isFinished]),Object(O.jsxs)("h3",{children:["Time: ",j<10?"0"+j:j,":",i<10?"0"+i:i]})},R=function(e){var t=e.score,n=e.setTime;return Object(O.jsxs)("div",{className:D.a.scoreboard,children:[Object(O.jsx)(P,{setTime:n}),Object(O.jsxs)("h3",{children:["Score: ",t]})]})},A=r.a.createContext({isActive:!1,isStarted:!1,isFinished:!1}),T=function(){var e=Object(a.useState)(x),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(-1),i=Object(d.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(0),m=Object(d.a)(u,2),f=m[0],g=m[1],k=Object(a.useState)(!1),S=Object(d.a)(k,2),p=S[0],v=S[1],_=Object(a.useState)(!1),C=Object(d.a)(_,2),w=C[0],y=C[1],I=Object(a.useState)(!1),D=Object(d.a)(I,2),P=D[0],T=D[1],B=Object(a.useState)(0),J=Object(d.a)(B,2),G=J[0],M=J[1],H=Object(a.useState)(!1),U=Object(d.a)(H,2),W=U[0],K=U[1],L=function(e){var t,a=Object(b.a)(n);a[e].isShown=!0,c(a),l(e),(null===(t=a[s])||void 0===t?void 0:t.id)===a[e].id?(g(f+1),console.log("score: ",f),V(e),V(s),l(-1),f+1===a.length/2&&(console.log("Finished game"),T(!0),v(!1))):-1!==s&&(v(!1),function(e,t){var a=Object(b.a)(n);a[e]=Object(j.a)(Object(j.a)({},a[e]),{},{isShown:!1}),a[t]=Object(j.a)(Object(j.a)({},a[t]),{},{isShown:!1}),setTimeout((function(){c(a),v(!0)}),1e3),l(-1)}(e,s))},V=function(e){var t=Object(b.a)(n);t[e].isPaired=!0,c(t)};return Object(O.jsx)(A.Provider,{value:{isActive:p,isStarted:w,isFinished:P},children:Object(O.jsxs)("div",{className:N.a.gameScreen,children:[Object(O.jsx)("div",{children:Object(O.jsx)(o.b,{className:N.a.link,to:"/home",children:Object(O.jsx)(h,{label:"Home",color:"#4CC0A6"})})}),Object(O.jsx)("div",{className:N.a.gameBoard,children:n.map((function(e,t){return Object(O.jsx)(F,{cardIndex:t,id:e.id,isShown:e.isShown,isPaired:e.isPaired,showCard:L},t)}))}),Object(O.jsxs)("div",{className:N.a.scoreboard,children:[Object(O.jsx)(R,{score:f,setTime:M}),!w&&Object(O.jsx)(h,{label:"Start",color:"#ffcb05",onClick:function(){v(!0),y(!0)}}),P&&!W&&Object(O.jsx)(E,{time:G,setIsRanked:K}),W&&Object(O.jsx)(o.b,{className:N.a.link,to:"/ranking",children:Object(O.jsx)("div",{children:Object(O.jsx)(h,{label:"Ranking",color:"#FF5054"})})})]})]})})},B=n(18),J=n.n(B),G=function(){return Object(O.jsxs)("div",{className:J.a.homeScreen,children:[Object(O.jsx)(o.b,{className:J.a.link,to:"/game",children:Object(O.jsx)(h,{label:"Play",color:"#4CC0A6"})}),Object(O.jsx)(o.b,{className:J.a.link,to:"/ranking",children:Object(O.jsx)(h,{label:"Ranking",color:"#FF5054"})})]})},M=n(14),H=n.n(M),U=function(){[1,2,3,4,5].map((function(e){return{nickname:"player0".concat(e),time:Math.floor(10*Math.random())}}));var e=JSON.parse(localStorage.getItem("ranking")||"[]");return Object(O.jsxs)("div",{className:H.a.rankingScreen,children:[Object(O.jsx)("div",{className:H.a.buttons,children:Object(O.jsx)(o.b,{className:H.a.link,to:"/home",children:Object(O.jsx)(h,{label:"Home",color:"#4CC0A6"})})}),Object(O.jsx)("ul",{className:H.a.ranking,children:e.sort((function(e,t){return e.time-t.time})).slice(0,4).map((function(e,t){return Object(O.jsxs)("li",{children:[t+1," - ",e.nickname,Object(O.jsx)("p",{children:"Time: ".concat(e.time," sec")})]},t)}))})]})},W=function(){return Object(O.jsx)(o.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/home",children:Object(O.jsx)(G,{})}),Object(O.jsx)(l.a,{path:"/ranking",children:Object(O.jsx)(U,{})}),Object(O.jsx)(l.a,{path:"/game",children:Object(O.jsx)(T,{})}),Object(O.jsx)(l.a,{path:"/",children:Object(O.jsx)(G,{})})]})})})},K=n(31),L=n.n(K),V=function(){return Object(O.jsx)("div",{className:L.a.app,children:Object(O.jsx)(W,{})})};s.a.render(Object(O.jsx)(V,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e95a1b5c.chunk.js.map